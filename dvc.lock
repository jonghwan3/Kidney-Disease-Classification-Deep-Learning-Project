schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: c9d719308db07474bb3ce77b84e40d28
      size: 563
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 7cc178487e6c24398bbfa10a8962db84
      size: 880
    outs:
    - path: artifacts/data_ingestion/kidney-ct-scan-image
      hash: md5
      md5: ebd5498ca7e572fc32807e5a86b8e46b.dir
      size: 58942529
      nfiles: 466
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: c9d719308db07474bb3ce77b84e40d28
      size: 563
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 8eb0ec239cfdeee272900b941da28537
      size: 978
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 3900fc7fde348cc342fc4a141f6fd134.dir
      size: 118058104
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/kidney-ct-scan-image
      hash: md5
      md5: ebd5498ca7e572fc32807e5a86b8e46b.dir
      size: 58942529
      nfiles: 466
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 3900fc7fde348cc342fc4a141f6fd134.dir
      size: 118058104
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: c9d719308db07474bb3ce77b84e40d28
      size: 563
    - path: src/cnnClassifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 680079b416a3ac33a75fdde19dfdf966
      size: 893
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 916cd556b74ee70d096ca65af8883f48
      size: 59138368
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/kidney-ct-scan-image
      hash: md5
      md5: ebd5498ca7e572fc32807e5a86b8e46b.dir
      size: 58942529
      nfiles: 466
    - path: artifacts/training/model.h5
      hash: md5
      md5: 916cd556b74ee70d096ca65af8883f48
      size: 59138368
    - path: config/config.yaml
      hash: md5
      md5: c9d719308db07474bb3ce77b84e40d28
      size: 563
    - path: src/cnnClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 93442e3cc2001a01feca02e10fc26c72
      size: 901
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: b6913010c3462641677e63387997a159
      size: 69
